use master;
go
drop database if exists solar;
go
create database solar collate Croatian_CI_AS;
go

use solar;

create table power_supply_types(
id int not null primary key identity(1,1),
name varchar(100) not null,
);

create table instalation_types(
id int not null primary key identity(1,1),
name varchar(100) not null,
);

create table production(
id int not null primary key identity(1,1),
location int,
consumption_24 int,
solar_production_24 int,
date datetime,
);

create table location(
id int not null primary key identity(1,1),
site_id varchar(4),
site_name varchar(50),
instalation_type int,
power_supply_type int,
);


alter table location add foreign key (instalation_type) references instalation_types(id);
alter table location add foreign key (power_supply_type) references power_supply_types(id);
alter table production add foreign key (location) references location(id);

insert into power_supply_types values 
('BFK 222 M35 12kW with Solar subrack'),
('BFK 222 M35 24kW Hybrid'),
('BFK 222 M35 24kW with Solar subrack'),
('BFK 222 with Solar subrack'),
('NetSure 5100 10kW with Solar subrack'),
('NetSure 5100 24kW Hybrid'),
('NetSure 5100 24kW with Solar subrack'),
('NetSure 5100 with Solar subrack');

insert into instalation_types values 
('ADD50'),
('LIFE'),
('Redovna aktivnost');

insert into location (site_id, site_name, power_supply_type, instalation_type) values 
('0020', 'Vrapèe', 7, 1),
('0030', 'Šestine', 6, 2),
('0062', 'Ferenšèica', 7, 2),
('0073', 'Belovar', 6, 1),
('0089', 'Glogavec', 6, 2),
('0094', 'Sveta Klara', 7, 2),
('0104', 'Zelina', 6, 1),
('0106', 'Aspergeri', 7, 1),
('0107', 'Klinèa Sela', 6, 2),
('0109', 'Luèko', 7, 1),
('0110', 'Dugo selo', 7, 1),
('0112', 'Okešinec', 6, 2),
('0116', 'Gornji Èehi', 7, 2),
('0119', 'Ivanja Reka', 7, 1),
('0121', 'Bregana', 7, 1),
('0124', 'Sesvetski Kraljevec', 6, 1),
('0131', 'Jamnica', 7, 1),
('0135', 'Pavkoviæi', 8, 1),
('0139', 'Jastrebarsko 2', 7, 2),
('0146', 'Ribnica', 6, 2),
('0153', 'Gornji Tkalci', 6, 2),
('0154', 'Planina Gornja', 2, 2),
('0174', 'Bestovje', 7, 2),
('0175', 'Kurilovec', 6, 2),
('0177', 'Kobiliæi', 6, 2),
('0196', 'Kljuc Brdoveèki', 4, 2),
('0228', 'Ivanja Reka 3', 7, 2),
('0362', 'Kašina jug', 6, 1),
('0363', 'Adamovec', 7, 2),
('0368', 'Donja Zelina', 4, 2),
('0556', 'Kobiljak macro', 8, 3),
('1037', 'Hum Breznièki', 6, 2),
('1044', 'Preseèno', 6, 1),
('1055', 'Ivanec', 6, 1),
('1057', 'Èakovec 5 industrial', 3, 2),
('1060', 'Ludbreg', 7, 2),
('1082', 'Novi Marof', 6, 1),
('1089', 'Sveti Ðurð Ludbreški', 6, 2),
('1101', 'Virje', 6, 2),
('1113', 'Habijanci', 7, 1),
('1114', 'Gradec', 2, 2),
('1118', 'Kloštar Vojakovaèki', 6, 2),
('1120', 'Rovišèe Predavec', 7, 2),
('1121', 'Veliko Trojstvo', 7, 2),
('1128', 'Hercegovac', 7, 2),
('1132', 'Zrinski Topolovac', 4, 2),
('1151', 'Mala Erpenja', 3, 2),
('1153', 'Lupinjak', 6, 2),
('1155', 'Brezno', 6, 2),
('1201', 'Petrinja', 7, 1),
('1205', 'Pescenica', 5, 2),
('1207', 'Dužica', 6, 2),
('1216', 'Budaševo', 6, 1),
('1259', 'Mala Švarèa', 8, 2),
('1263', 'Draganièi', 7, 2),
('1316', 'Lisjaka', 8, 1),
('1317', 'Kamena Gorica', 6, 2),
('1318', 'Krapinske toplice', 7, 1),
('1320', 'Varaždinske toplice', 6, 2),
('1331', 'Donja Dubrava', 6, 2),
('1350', 'Stubicke toplice', 7, 2),
('1353', 'Risvica', 6, 2),
('1361', 'Dubrava Križovljanska', 2, 2),
('1374', 'Mursko Središèe', 6, 2),
('1375', 'Podturen', 1, 2),
('1379', 'Veliki i Mali Bukovac', 6, 2),
('1380', 'INA Lijevi Dubrovèak', 8, 2),
('1405', 'Sokolovac', 6, 2),
('1412', 'Hampovica', 8, 2),
('1414', 'Ðelekovac', 6, 2),
('1421', 'Lonèarica', 6, 2),
('1423', 'Grèevac', 6, 1),
('1427', 'Pavlovac', 8, 2),
('1428', 'Konèanica', 7, 1),
('1436', 'Koprivnica brda', 7, 2),
('1447', 'Apatovec', 4, 2),
('1451', 'Štefanje', 6, 2),
('1491', 'Prelog', 6, 2),
('1492', 'Puhi', 2, 2),
('1510', 'Glina', 7, 2),
('1512', 'Dvor', 6, 2),
('1521', 'Generalski stol', 6, 1),
('1522', 'Tounj', 7, 1),
('1524', 'Plaški', 6, 2),
('1525', 'Javorovica', 6, 1),
('1550', 'Gvozd', 6, 2),
('1554', 'Strašnik', 6, 2),
('1555', 'Kovaèevac', 7, 2),
('1556', 'Dubica', 6, 2),
('1558', 'Pokupsko', 6, 2),
('1561', 'Vojniæ', 8, 2),
('2019', 'Rijeka 9', 7, 1),
('2020', 'Karojba', 2, 2),
('2023', 'Borje', 8, 2),
('2045', 'Gabonjin', 7, 1),
('2046', 'Vodnjan', 7, 1),
('2049', 'Stranjg', 6, 2),
('2058', 'Linardici', 7, 1),
('2067', 'Ljubovo', 6, 2),
('2070', 'Road Split', 8, 2),
('2089', 'Groznjan Momjan', 6, 2),
('2131', 'Viskovo', 6, 2),
('2132', 'Matulji', 7, 1),
('2137', 'Cres2', 6, 1),
('2140', 'Jezerane', 6, 1),
('2147', 'Otocac', 6, 2),
('2160', 'Zuta Lokva', 6, 2),
('2183', 'Mackova draga', 8, 2),
('2211', 'Letaj', 6, 2),
('2217', 'Bonaci', 6, 2),
('2221', 'Brtonigla', 6, 2),
('2254', 'Jakacici', 8, 2),
('2289', 'Merag', 8, 2),
('2293', 'Gracisce', 7, 2),
('2316', 'Industrijska zona Porec', 7, 2),
('2369', 'Povljana', 7, 2),
('2427', 'Damalj', 6, 2),
('2428', 'Trsce', 8, 2),
('2432', 'Biljevina', 8, 2),
('2434', 'Ivanici', 7, 2),
('2543', 'Radmani', 7, 2),
('2561', 'Tuk', 8, 2),
('2577', 'Vidakovici', 7, 2),
('2578', 'Revna kosa', 7, 2),
('2582', 'Rudaca', 7, 2),
('2583', 'Lemina glava', 8, 2),
('2584', 'Licko Lesce', 6, 2),
('2586', 'Oblaj', 6, 2),
('2587', 'Javorka', 7, 2),
('2589', 'Brinje', 6, 2),
('3002', 'N.Gradiska Pozega', 8, 1),
('3009', 'V.Kopanica', 6, 2),
('3012', 'Cepin', 8, 2),
('3032', 'Donji Miholjac', 6, 2),
('3037', 'Caglic', 8, 2),
('3038', 'Ilok', 8, 2),
('3039', 'Gunja', 6, 2),
('3041', 'Pleternica', 6, 1),
('3042', 'Spacva',6, 2),
('3046', 'Batina', 6, 2),
('3048', 'Otok', 8, 2),
('3050', 'Tovarnik', 6, 2),
('3053', 'Kutjevo', 6, 1),
('3056', 'Donji Andrijevci', 6, 2),
('3058', 'Malinovac', 8, 2),
('3064', 'Opatovac', 6, 2),
('3067', 'Nijemci', 7, 1),
('3072', 'Mikanovci', 8, 2),
('3073', 'Pitomaca 2', 6, 1),
('3074', 'Terezino Polje', 6, 2),
('3081', 'Babina Greda', 6, 2),
('3083', 'Vuka', 6, 1),
('3085', 'Vrpolje', 7, 2),
('3087', 'Bijelo Brdo', 8, 2),
('3088', 'Koska', 6, 2),
('3090', 'Nustar', 6, 2),
('3094', 'Fericanci', 7, 1),
('3102', 'Cepin centar', 7, 2),
('3107', 'Slavonski Šamac', 7, 2),
('3110', 'Crnkovci', 6, 2),
('3114', 'Jaksic', 7, 1),
('3118', 'Ernestinovo', 6, 2),
('3121', 'Osijek Jug 2', 7, 2),
('3122', 'Slavonski Brod 6', 7, 2),
('3129', 'Sopje', 8, 2),
('3131', 'Ivankovo', 6, 2),
('3142', 'Gorjani', 6, 2),
('3144', 'Markusica', 7, 2),
('3145', 'Antunovac', 6, 2),
('3147', 'Selci Djakovacki 5c', 7, 2),
('3148', 'Cepinski Martinci 5c', 7, 2),
('3149', 'Bilje', 6, 2),
('3151', 'Sibinj', 6, 2),
('3153', 'Sredanci 5c', 6, 2),
('3156', 'Vrbanja centar', 6, 2),
('3158', 'Spisic Bukovica', 8, 2),
('3160', 'Oriovac', 7, 2),
('3161', 'Djakovo zapad', 8, 2),
('3165', 'Garcin', 6, 2),
('3169', 'Svetoblazje', 6, 2),
('3178', 'Trpinja', 6, 2),
('3180', 'Banovci Sumece', 7, 2),
('3207', 'Punitovci', 4, 2),
('4019', 'Selca', 7, 1),
('4025', 'Butige', 7, 2),
('4035', 'Hrgovici', 6, 1),
('4049', 'Gracac', 8, 1),
('4074', 'Divulje', 7, 1),
('4100', 'Ston', 6, 1),
('4123', 'Sonkovic JAC', 6, 2),
('4124', 'Klanac(Krtolin)', 7, 1),
('4215', 'Vodice 3', 6, 2),
('4219', 'Zaton', 7, 1),
('4221', 'Gdinj Bonkovici', 6, 1),
('4242', 'Smiljike JAC', 8, 2),
('4245', 'Bibinje', 3, 2),
('4309', 'Muc', 6, 2),
('4344', 'Lendici', 7, 2),
('4360', 'Metkovic 2', 7, 2),
('4383', 'Seget Vlaska', 6, 3),
('4404', 'Pupnat', 3, 2),
('4409', 'Unešiæ', 7, 2),
('4513', 'Klek(Komarna)', 6, 2),
('4529', 'Brac Sumartin', 2, 3),
('4536', 'Kutlese', 7, 2),
('4559', 'Sevid more', 7, 1),
('4561', 'Solta Stomorska', 6, 3),
('4570', 'Galovac Skabrnja', 2, 2),
('4593', 'Dugi Otok zapad', 8, 1);

insert into production values 
(1, 200, 100, 2025-05-01),
(1, 200, 100, 2025-05-02),
(1, 200, 100, 2025-05-03);